# Tutorial 01 â€” Hello, Gas City
# Tests the core CLI commands from the first tutorial.

# Start a city
exec gc start $WORK/bright-lights
stdout 'Welcome to Gas City!'
stdout 'To configure your new city, add a `city.toml` file.'
stdout 'To get started with one of the built-in configurations, use `gc init`.'
stdout 'To add a rig \(project\), use `gc rig add <path>`.'
stdout 'For help, use `gc help`.'

# Verify city structure
exists $WORK/bright-lights/.gc
exists $WORK/bright-lights/rigs
exists $WORK/bright-lights/city.toml

# Add a rig
cd $WORK/bright-lights
exec gc rig add $WORK/tower-of-hanoi
stdout 'Adding rig'
stdout 'tower-of-hanoi'
stdout 'Detected git repo'
stdout 'Configured AGENTS.md and GEMINI.md with beads integration'
stdout 'Assigned default agent: mayor'
stdout 'Rig added'

# Verify rig structure
exists $WORK/bright-lights/rigs/tower-of-hanoi/rig.toml

# List rigs
exec gc rig list
stdout 'Rigs in'
stdout 'bright-lights:'
stdout 'Agents: \[mayor\]'
stdout 'tower-of-hanoi:'
stdout 'Agents: \[\]'

# Create a bead
exec gc bead create 'Build a Tower of Hanoi app'
stdout 'Created bead: gc-1'

# List ready beads
exec gc bead ready
stdout 'gc-1'
stdout 'Build a Tower of Hanoi app'

# Show a bead
exec gc bead show gc-1
stdout 'gc-1'
stdout 'open'

# Attach to an agent
# exec gc agent attach mayor

# List all beads
# exec gc bead list
# stdout 'gc-1'

# Stop the city
# exec gc stop

-- tower-of-hanoi/.git/config --
[core]
	bare = false
