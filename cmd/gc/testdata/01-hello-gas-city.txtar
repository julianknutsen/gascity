# Tutorial 01 â€” Hello, Gas City

env GC_BEADS=file
env GC_DOLT=skip

# Initialize a city
exec gc init $WORK/bright-lights
stdout 'Welcome to Gas City!'
stdout 'Initialized city'
stdout 'bright-lights'

# Verify city structure
exists $WORK/bright-lights/.gc
exists $WORK/bright-lights/rigs
exists $WORK/bright-lights/city.toml

cd $WORK/bright-lights

# Add a rig
exec gc rig add $WORK/tower-of-hanoi
stdout 'Adding rig'
stdout 'tower-of-hanoi'
stdout 'Detected git repo'
stdout 'Prefix: toh'
stdout 'Generated routes.jsonl'
stdout 'Rig added'

# Verify rig structure
exists $WORK/bright-lights/rigs/tower-of-hanoi/rig.toml

# List rigs
exec gc rig list
stdout 'Rigs in'
stdout 'bright-lights \(HQ\):'
stdout 'Prefix: bl'
stdout 'tower-of-hanoi:'
stdout 'Prefix: toh'

# Create a bead
exec gc bead create 'Build a Tower of Hanoi app'
stdout 'Created bead: gc-1'

# List ready beads
exec gc bead ready
stdout 'gc-1'
stdout 'Build a Tower of Hanoi app'

# Show a bead
exec gc bead show gc-1
stdout 'gc-1'
stdout 'open'

# Attach to an agent
# exec gc agent attach mayor

# Close a bead
exec gc bead close gc-1
stdout 'Closed bead: gc-1'

# Verify closed bead shows closed status
exec gc bead show gc-1
stdout 'closed'

# Closed beads don't appear in ready
exec gc bead ready
! stdout 'gc-1'

# List all beads (closed beads still appear)
exec gc bead list
stdout 'gc-1'
stdout 'closed'
stdout 'Build a Tower of Hanoi app'

# Start the city (already initialized)
exec gc start
stdout 'City started.'

# Stop the city
exec gc stop
stdout 'City stopped.'

-- tower-of-hanoi/.git/config --
[core]
	bare = false
