# Hyperscale — single worker pool, max 100.
#
# No city agents — just a pool of workers that scale based on open beads.
# Each worker runs gc prime, closes its bead, and exits.

[topology]
name = "hyperscale"
schema = 1
city_agents = []

[[agents]]
name = "worker"
prompt_template = "prompts/worker.md.tmpl"
nudge = "Check your hook for work."
idle_timeout = "5m"

[agents.pool]
min = 0
max = 100
check = "bd list --label=pool:worker --status=open --json 2>/dev/null | jq length 2>/dev/null || echo 0"
