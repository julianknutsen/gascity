# Detect beads stuck in a recovery loop (crash loop indicator).
#
# When the same bead gets reset to pool multiple times, a polecat is
# likely crash-looping on that specific work. The script counts
# bead.updated events where status transitions to open with assignee
# cleared (the recovery signature) and escalates when the count for
# any single bead exceeds the threshold.
[automation]
description = "Detect beads repeatedly bouncing back to pool (spawn storm)"
gate = "cooldown"
interval = "5m"
exec = "scripts/spawn-storm-detect.sh"
