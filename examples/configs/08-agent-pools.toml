# Tutorial 08 â€” Agent Pools
#
# Mayor is fixed (always-on). Workers scale elastically based on
# bead queue depth. scale_check returns desired count, clamped to
# [min, max]. Workers exit naturally after finishing their hooked bead.

[workspace]
name = "my-city"
provider = "claude"

[formulas]
dir = ".gc/formulas"

[[agents]]
name = "mayor"
prompt_template = "prompts/mayor.md"

[[pools]]
name = "worker"
prompt_template = "prompts/worker.md"
min = 0
max = 5
scale_check = "gc bead ready | tail -n +2 | wc -l | tr -d ' '"

[beads]
provider = "bd"
