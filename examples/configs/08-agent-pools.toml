# Tutorial 08 â€” Agent Pools
#
# Mayor is fixed (always-on). Workers scale elastically based on
# bead queue depth. scale_check returns desired count, clamped to
# [min, max]. Pool workers poll bd ready, claim work, and exit when
# the queue is empty.

[workspace]
name = "my-city"
provider = "claude"

[formulas]
dir = ".gc/formulas"

[[agents]]
name = "mayor"
prompt_template = "prompts/mayor.md"

[[pools]]
name = "worker"
prompt_template = "prompts/pool-worker.md"
min = 0
max = 5
scale_check = "bd ready --unassigned --limit 0 --json | jq length"

[beads]
provider = "bd"
